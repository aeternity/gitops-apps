app:
  strategyType: "Recreate"

  image:
    repository: public.ecr.aws/aeternity/graffiti-server
    tag: "latest"
    pullPolicy: "Always"

  resources:
    requests:
      cpu: 90m
      memory: 180Mi
    limits:
      memory: 270Mi

  serviceAccount:
    create: true

  ingress:
    enabled: true
    annotations:
      traefik.ingress.kubernetes.io/router.entrypoints: websecure
      cert-manager.io/cluster-issuer: letsencrypt

  service:
    port: 3000

  probes:
    startup:
      enabled: true
      config:
        httpGet:
          path: /health/testFiles
    liveness:
      enabled: true
      config:
        httpGet:
          path: /health/testFiles
    readiness:
      enabled: true
      config:
        httpGet:
          path: /health/testFiles

  persistence:
    enabled: true
    accessMode: ReadWriteOnce
    storageClass: gp3
    size: 1Gi
    mountPath: /app/data/backup

  env:
    "S3_REGION": "eu-central-1"
    "PATH_IDENTIFIER": "/"
    "COMPILER_URL": "https://compiler.aeternity.io"
    "SYNC_STORAGE": "true"
